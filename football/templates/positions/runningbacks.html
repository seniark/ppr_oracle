{% extends "positions/template.html" %}

{% block tablecontent %}
	<tr>
		<th>Player Name</th>
		<th><a href="{{ request.path }}?sort=receiving_yds">Receiving Yards</a></th>
		<th><a href="{{ request.path }}?sort=receiving_tar">Receiving Targets</a></th>
		<th><a href="{{ request.path }}?sort=receiving_tds">Receiving TDs</a></th>
		<th><a href="{{ request.path }}?sort=rushing_yds">Rushing Yards</a></th>
		<th><a href="{{ request.path }}?sort=rushing_att">Rushing Attempts</a></th>
		<th><a href="{{ request.path }}?sort=rushing_tds">Rushing TDs</a></th>
		<th><a href="{{ request.path }}?sort=rushing_loss_yds">Rushing Loss Yards</a></th>
	</tr>
	{% for pp in stats %}
	<tr>
		<td>
			{% if user.is_authenticated %}
			<span>
				<a href="#" data-toggle="modal" data-target="#addModal-{{ pp.player.player_id }}"><i class="glyphicon glyphicon-plus"></i></a>  {{ pp.player }}
			</span>

			<div id="addModal-{{ pp.player.player_id }}" class="modal fade" role="dialog">
				<div class="modal-dialog">

					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal">&times;</button>
							<h4 class="modal-title">Add {{ pp.player }} to Team</h4>
						</div>

						<div class="modal-body">
							<div class="container-fluid">
							<form class="form-vertical" action="{% url 'add-to-team' pp.player.player_id %}" method="POST">
								{% csrf_token %}
								{% for team in user.userteam_set.all %}
								<div class="checkbox">
									<input type="checkbox" name="{{ team.id }}" value="">{{ team }}</input>
								</div>
								{% endfor %}

								<button type="submit" class="btn btn-primary" style="float: right">Add</button>
							</form>
							</div>
						</div>

						<div class="modal-footer">
							<button type="submit" class="btn btn-default" data-dismiss="modal">Close</button>
						</div>
					</div>	<!-- modal-content -->
				</div> <!-- modal-dialog -->
			</div> <!-- modal fade -->

			{% else %}
			{{ pp.player }}
			{% endif %}
		</td>
		<td>{{ pp.receiving_yds }}</td>
		<td>{{ pp.receiving_tar }}</td>
		<td>{{ pp.receiving_tds }}</td>
		<td>{{ pp.rushing_yds }}</td>
		<td>{{ pp.rushing_att }}</td>
		<td>{{ pp.rushing_tds }}</td>
		<td>{{ pp.rushing_loss_yds }}</td>
	</tr>
	{% endfor %}
{% endblock %}
